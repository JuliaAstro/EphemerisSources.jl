<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · HorizonsAPI</title><meta name="title" content="Examples · HorizonsAPI"/><meta property="og:title" content="Examples · HorizonsAPI"/><meta property="twitter:title" content="Examples · HorizonsAPI"/><meta name="description" content="Documentation for HorizonsAPI."/><meta property="og:description" content="Documentation for HorizonsAPI."/><meta property="twitter:description" content="Documentation for HorizonsAPI."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HorizonsAPI</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li class="is-active"><a class="tocitem" href>Examples</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cadojo/EphemerisSources.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/cadojo/EphemerisSources.jl/blob/main/lib/HorizonsAPI/docs/src/examples/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p>The HORIZONS REST API accepts specific key-words for each type of command. Some keywords are common to all commands, but most keywords are only valid for some subset of available HORIZONS REST API commands. Thanks to Julia&#39;s metaprogramming, and <a href="https://discourse.julialang.org/t/unpack-namedtuple-into-a-function-definition/97500/2">helpful community</a>, these keyword arguments are specified precisely in the signature of each <code>fetch_*</code> function. This allows users to simply press <code>TAB</code> in their chosen tab-completion-supporting IDE, and view all options that are available for each individual command.</p><pre><code class="language-julia hljs">julia&gt; fetch_vectors(399; # &lt;TAB&gt;

fetch_vectors(COMMAND; file, AIRMASS, ANG_FORMAT, ANG_RATE_CUTOFF, APPARENT, CAL_FORMAT, CAL_TYPE, CENTER, COORD_TYPE, CSV_FORMAT, ELEV_CUT, ELM_LABELS, EMAIL_ADDR, EXTRA_PREC, LHA_CUTOFF, OUT_UNITS, QUANTITIES, RANGE_UNITS, REF_PLANE, REF_SYSTEM, R_T_S_ONLY, SITE_COORD, SKIP_DAYLT, SOLAR_ELONG, START_TIME, STEP_SIZE, STOP_TIME, SUPPRESS_RANGE_RATE, TIME_DIGITS, TIME_ZONE, TLIST, TLIST_TYPE, TP_TYPE, VEC_CORR, VEC_DELTA_T, VEC_LABELS, VEC_TABLE, format) @ HorizonsAPI ~/Projects/Astrodynamics/HorizonsAPI.jl/src/HorizonsAPI.jl:317</code></pre><p>Take a look at each of the following examples for ideas about how to use the HORIZONS REST API from within Julia.</p><h3 id="Cartesian-States"><a class="docs-heading-anchor" href="#Cartesian-States">Cartesian States</a><a id="Cartesian-States-1"></a><a class="docs-heading-anchor-permalink" href="#Cartesian-States" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using HorizonsAPI</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; fetch_vectors(
           399; # NAIF ID for Earth&#39;s center of mass
           START_TIME = &quot;2024-01-01&quot;,
           STOP_TIME = &quot;2025-01-01&quot;,
           STEP_SIZE = &quot;1d&quot;, # one day
           CENTER = &quot;@ssb&quot;, # solar system barycenter
           format = &quot;text&quot;, # the &quot;text&quot; format is most useful; a minimal &quot;json&quot; format is also available
           file = &quot;earth.txt&quot;, # save the HTTP response contents to a local file
       )</code><code class="nohighlight hljs ansi" style="display:block;">HTTP.Messages.Response:
&quot;&quot;&quot;
HTTP/1.1 200 OK
Server: nginx
Date: Sat, 27 Apr 2024 17:59:20 GMT
Content-Type: text/plain
Transfer-Encoding: chunked
Connection: keep-alive

&quot;&quot;&quot;</code></pre><h3 id="Orbital-Elements"><a class="docs-heading-anchor" href="#Orbital-Elements">Orbital Elements</a><a id="Orbital-Elements-1"></a><a class="docs-heading-anchor-permalink" href="#Orbital-Elements" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using HorizonsAPI</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; fetch_elements(
           &quot;APOPHIS&quot;;
           EPOCH = &quot;J2000&quot;,
           format = &quot;text&quot;,
           file = &quot;apophis.txt&quot;, # save the HTTP response contents to a local file
       )</code><code class="nohighlight hljs ansi" style="display:block;">HTTP.Messages.Response:
&quot;&quot;&quot;
HTTP/1.1 200 OK
Server: nginx
Date: Sat, 27 Apr 2024 17:59:22 GMT
Content-Type: text/plain
Transfer-Encoding: chunked
Connection: keep-alive

&quot;&quot;&quot;</code></pre><h3 id="Idiomatic-Julia"><a class="docs-heading-anchor" href="#Idiomatic-Julia">Idiomatic Julia</a><a id="Idiomatic-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Idiomatic-Julia" title="Permalink"></a></h3><p>You&#39;ll notice that <code>HorizonsAPI</code> only offers a Julia interface to the JPL HORIZONS REST API; without other packages, you&#39;ll need to parse the resulting ephemeris data on your own. Thankfully, <code>HorizonsEphemeris</code> provides ephemeris fetching methods which are fully abstracted from the REST API. For more information, see the <code>HorizonsEphemeris</code> documentation!</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Dates, HorizonsEphemeris</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: LoadError: ArgumentError: Package HorizonsEphemeris does not have DocStringExtensions in its dependencies:
- You may have a partially installed environment. Try `Pkg.instantiate()`
  to ensure all packages in the environment are installed.
- Or, if you have HorizonsEphemeris checked out for development and have
  added DocStringExtensions as a dependency but haven&#39;t updated your primary
  environment&#39;s manifest file, try `Pkg.resolve()`.
- Otherwise you may need to report an issue with HorizonsEphemeris
Stacktrace:
 [1] macro expansion
   @ ./loading.jl:1776 [inlined]
 [2] macro expansion
   @ ./lock.jl:267 [inlined]
 [3] __require(into::Module, mod::Symbol)
   @ Base ./loading.jl:1753
 [4] #invoke_in_world#3
   @ ./essentials.jl:926 [inlined]
 [5] invoke_in_world
   @ ./essentials.jl:923 [inlined]
 [6] require(into::Module, mod::Symbol)
   @ Base ./loading.jl:1746
 [7] include
   @ ./Base.jl:495 [inlined]
 [8] include_package_for_output(pkg::Base.PkgId, input::String, depot_path::Vector{String}, dl_load_path::Vector{String}, load_path::Vector{String}, concrete_deps::Vector{Pair{Base.PkgId, UInt128}}, source::String)
   @ Base ./loading.jl:2222
 [9] top-level scope
   @ stdin:3
in expression starting at /home/runner/.julia/packages/HorizonsEphemeris/bQxbQ/src/HorizonsEphemeris.jl:1
in expression starting at stdin:3
ERROR: Failed to precompile HorizonsEphemeris [05ee1981-f730-42d8-b713-4f42d99733dc] to &quot;/home/runner/.julia/compiled/v1.10/HorizonsEphemeris/jl_RWq3uP&quot;.</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; earth = let start = now() - Year(50), stop = now() + Year(50), step = Day(1)
           @time ephemeris(&quot;earth&quot;, start, stop, step; wrt=&quot;jupiter&quot;, units=&quot;AU-D&quot;);
       end</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `ephemeris` not defined</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Overview</a><a class="docs-footer-nextpage" href="../reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Saturday 27 April 2024 17:59">Saturday 27 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
