<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Examples · HorizonsAPI</title><meta name="title" content="Examples · HorizonsAPI"/><meta property="og:title" content="Examples · HorizonsAPI"/><meta property="twitter:title" content="Examples · HorizonsAPI"/><meta name="description" content="Documentation for HorizonsAPI."/><meta property="og:description" content="Documentation for HorizonsAPI."/><meta property="twitter:description" content="Documentation for HorizonsAPI."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HorizonsAPI</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li class="is-active"><a class="tocitem" href>Examples</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/cadojo/EphemerisSources.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/cadojo/EphemerisSources.jl/blob/main/lib/HorizonsAPI/docs/src/examples/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p>The HORIZONS REST API accepts specific key-words for each type of command. Some keywords are common to all commands, but most keywords are only valid for some subset of available HORIZONS REST API commands. Thanks to Julia&#39;s metaprogramming, and <a href="https://discourse.julialang.org/t/unpack-namedtuple-into-a-function-definition/97500/2">helpful community</a>, these keyword arguments are specified precisely in the signature of each <code>fetch_*</code> function. This allows users to simply press <code>TAB</code> in their chosen tab-completion-supporting IDE, and view all options that are available for each individual command.</p><pre><code class="language-julia hljs">julia&gt; fetch_vectors(399; # &lt;TAB&gt;

fetch_vectors(COMMAND; file, AIRMASS, ANG_FORMAT, ANG_RATE_CUTOFF, APPARENT, CAL_FORMAT, CAL_TYPE, CENTER, COORD_TYPE, CSV_FORMAT, ELEV_CUT, ELM_LABELS, EMAIL_ADDR, EXTRA_PREC, LHA_CUTOFF, OUT_UNITS, QUANTITIES, RANGE_UNITS, REF_PLANE, REF_SYSTEM, R_T_S_ONLY, SITE_COORD, SKIP_DAYLT, SOLAR_ELONG, START_TIME, STEP_SIZE, STOP_TIME, SUPPRESS_RANGE_RATE, TIME_DIGITS, TIME_ZONE, TLIST, TLIST_TYPE, TP_TYPE, VEC_CORR, VEC_DELTA_T, VEC_LABELS, VEC_TABLE, format) @ HorizonsAPI ~/Projects/Astrodynamics/HorizonsAPI.jl/src/HorizonsAPI.jl:317</code></pre><p>Take a look at each of the following examples for ideas about how to use the HORIZONS REST API from within Julia.</p><h3 id="Cartesian-States"><a class="docs-heading-anchor" href="#Cartesian-States">Cartesian States</a><a id="Cartesian-States-1"></a><a class="docs-heading-anchor-permalink" href="#Cartesian-States" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using HorizonsAPI</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; fetch_vectors(
           399; # NAIF ID for Earth&#39;s center of mass
           START_TIME = &quot;2024-01-01&quot;,
           STOP_TIME = &quot;2025-01-01&quot;,
           STEP_SIZE = &quot;1d&quot;, # one day
           CENTER = &quot;@ssb&quot;, # solar system barycenter
           format = &quot;text&quot;, # the &quot;text&quot; format is most useful; a minimal &quot;json&quot; format is also available
           file = &quot;earth.txt&quot;, # save the HTTP response contents to a local file
       )</code><code class="nohighlight hljs ansi" style="display:block;">HTTP.Messages.Response:
&quot;&quot;&quot;
HTTP/1.1 200 OK
Server: nginx
Date: Sat, 27 Apr 2024 16:47:05 GMT
Content-Type: text/plain
Transfer-Encoding: chunked
Connection: keep-alive

&quot;&quot;&quot;</code></pre><h3 id="Orbital-Elements"><a class="docs-heading-anchor" href="#Orbital-Elements">Orbital Elements</a><a id="Orbital-Elements-1"></a><a class="docs-heading-anchor-permalink" href="#Orbital-Elements" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using HorizonsAPI</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; fetch_elements(
           &quot;APOPHIS&quot;;
           EPOCH = &quot;J2000&quot;,
           format = &quot;text&quot;,
           file = &quot;apophis.txt&quot;, # save the HTTP response contents to a local file
       )</code><code class="nohighlight hljs ansi" style="display:block;">HTTP.Messages.Response:
&quot;&quot;&quot;
HTTP/1.1 200 OK
Server: nginx
Date: Sat, 27 Apr 2024 16:47:06 GMT
Content-Type: text/plain
Transfer-Encoding: chunked
Connection: keep-alive

&quot;&quot;&quot;</code></pre><h3 id="Idiomatic-Julia"><a class="docs-heading-anchor" href="#Idiomatic-Julia">Idiomatic Julia</a><a id="Idiomatic-Julia-1"></a><a class="docs-heading-anchor-permalink" href="#Idiomatic-Julia" title="Permalink"></a></h3><p>You&#39;ll notice that <code>HorizonsAPI</code> only offers a Julia interface to the JPL HORIZONS REST API; without other packages, you&#39;ll need to parse the resulting ephemeris data on your own. Thankfully, <code>HorizonsEphemeris</code> provides ephemeris fetching methods which are fully abstracted from the REST API. For more information, see the <code>HorizonsEphemeris</code> documentation!</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Dates, HorizonsEphemeris</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; earth = let start = now() - Year(50), stop = now() + Year(50), step = Day(1)
           @time ephemeris(&quot;earth&quot;, start, stop, step; wrt=&quot;jupiter&quot;, units=&quot;AU-D&quot;);
       end</code><code class="nohighlight hljs ansi" style="display:block;">  4.466829 seconds (689.09 k allocations: 77.494 MiB, 0.38% gc time, 19.61% compilation time: 44% of which was recompilation)
(t = [2.442165199393588e6, 2.442166199393588e6, 2.442167199393588e6, 2.442168199393588e6, 2.442169199393588e6, 2.442170199393588e6, 2.442171199393588e6, 2.442172199393588e6, 2.442173199393588e6, 2.442174199393588e6  …  2.478681199393588e6, 2.478682199393588e6, 2.478683199393588e6, 2.478684199393588e6, 2.478685199393588e6, 2.478686199393588e6, 2.478687199393588e6, 2.478688199393588e6, 2.478689199393588e6, 2.478690199393588e6], cal = InlineStrings.String31[&quot; A.D. 1974-Apr-27 16:47:07.6060&quot;, &quot; A.D. 1974-Apr-28 16:47:07.6060&quot;, &quot; A.D. 1974-Apr-29 16:47:07.6060&quot;, &quot; A.D. 1974-Apr-30 16:47:07.6060&quot;, &quot; A.D. 1974-May-01 16:47:07.6060&quot;, &quot; A.D. 1974-May-02 16:47:07.6060&quot;, &quot; A.D. 1974-May-03 16:47:07.6060&quot;, &quot; A.D. 1974-May-04 16:47:07.6060&quot;, &quot; A.D. 1974-May-05 16:47:07.6060&quot;, &quot; A.D. 1974-May-06 16:47:07.6060&quot;  …  &quot; A.D. 2074-Apr-18 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-19 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-20 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-21 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-22 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-23 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-24 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-25 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-26 16:47:07.6060&quot;, &quot; A.D. 2074-Apr-27 16:47:07.6060&quot;], x = [-5.202711965983725, -5.19593508786662, -5.18891952492353, -5.181669557280503, -5.174189233384359, -5.16648074758636, -5.158548218305405, -5.150394155554908, -5.14202256252675, -5.133436117602712  …  2.805502333595217, 2.818946393452437, 2.832641514567315, 2.846584737904244, 2.860773488488114, 2.875204168643303, 2.889875527989922, 2.904783803215545, 2.919926515006851, 2.935300446541734], y = [1.785457949833203, 1.764828582669323, 1.744377196421918, 1.72410635695475, 1.704019650952822, 1.684119381133096, 1.664409468542969, 1.644893134264287, 1.625573105010745, 1.606453786514061  …  -4.298327258604306, -4.308626488152843, -4.318777812604478, -4.328775164578038, -4.338614845653305, -4.348292690327564, -4.357804328735678, -4.367145450492702, -4.376311058102384, -4.385297750763093], z = [0.08873762830671406, 0.0888449023957709, 0.0889519109351202, 0.0890585859119317, 0.08916491335968792, 0.0892708655130883, 0.08937645814263143, 0.08948171898921704, 0.08958664298108025, 0.08969130724065645  …  -0.06634460029967533, -0.06648547549918479, -0.06662628051861208, -0.06676699854457314, -0.06690768493446948, -0.06704838899554642, -0.06718910445727917, -0.06732985367620146, -0.06747061081622645, -0.06761141005314635], ẋ = [0.006656076519847363, 0.00689740251406095, 0.007132955514678802, 0.007366100918609661, 0.007594588209299358, 0.007821191001033522, 0.008043973995181024, 0.008263011820785884, 0.008480104195387262, 0.008691862107965362  …  0.01331836366421295, 0.01356941775911857, 0.01382013986040308, 0.01406622081441876, 0.01431018368559051, 0.01455154051880371, 0.01479004868506617, 0.01502643970723672, 0.01525829505463322, 0.01548893464847238], ẏ = [-0.02071617679231749, -0.02054119255471671, -0.02036168445429463, -0.02017892047285283, -0.01999449973598588, -0.01980516182869667, -0.0196141236756937, -0.01941833651013691, -0.01922055613727733, -0.01901819248292906  …  -0.0103721696920753, -0.0102262072171679, -0.01007489268174086, -0.009919590240108824, -0.0097589017901735, -0.009596046690328233, -0.009426713248663954, -0.009254308443365635, -0.009076860415119617, -0.00889500714602829], ż = [0.0001074265242049715, 0.0001071468519217985, 0.0001068390894912758, 0.000106523033564203, 0.0001061186231832001, 0.0001057892877080719, 0.0001054082092642259, 0.0001050972689305748, 0.0001047841463559903, 0.0001045218288483122  …  -0.0001409313542710053, -0.0001408491664403536, -0.0001407416173204519, -0.0001407125163162583, -0.0001406699591135587, -0.0001407279437319619, -0.0001407213448132169, -0.0001407536516765589, -0.0001407874296793158, -0.0001407814972151485])</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Overview</a><a class="docs-footer-nextpage" href="../reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Saturday 27 April 2024 16:47">Saturday 27 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
