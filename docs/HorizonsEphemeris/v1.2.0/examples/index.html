<!DOCTYPE html><HTML lang="en"><head><script charset="utf-8" src="../../../../assets/default/multidoc_injector.js" type="text/javascript"></script><script charset="utf-8" type="text/javascript">window.MULTIDOCUMENTER_ROOT_PATH = '/'</script><script charset="utf-8" src="../../../../assets/default/flexsearch.bundle.js" type="text/javascript"></script><script charset="utf-8" src="../../../../assets/default/flexsearch_integration.js" type="text/javascript"></script><meta charset="UTF-8"/><meta content="width=device-width, initial-scale=1.0" name="viewport"/><title>Examples · HorizonsEphemeris</title><meta content="Examples · HorizonsEphemeris" name="title"/><meta content="Examples · HorizonsEphemeris" property="og:title"/><meta content="Examples · HorizonsEphemeris" property="twitter:title"/><meta content="Documentation for HorizonsEphemeris." name="description"/><meta content="Documentation for HorizonsEphemeris." property="og:description"/><meta content="Documentation for HorizonsEphemeris." property="twitter:description"/><script data-outdated-warner="" src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script data-main="../assets/documenter.js" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" data-theme-name="catppuccin-mocha" href="../assets/themes/catppuccin-mocha.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-macchiato" href="../assets/themes/catppuccin-macchiato.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-frappe" href="../assets/themes/catppuccin-frappe.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="catppuccin-latte" href="../assets/themes/catppuccin-latte.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-dark" data-theme-primary-dark="" href="../assets/themes/documenter-dark.css" rel="stylesheet" type="text/css"/><link class="docs-theme-link" data-theme-name="documenter-light" data-theme-primary="" href="../assets/themes/documenter-light.css" rel="stylesheet" type="text/css"/><script src="../assets/themeswap.js"></script><link href="../../../../assets/default/multidoc.css" rel="stylesheet" type="text/css"/><link href="../../../../assets/default/flexsearch.css" rel="stylesheet" type="text/css"/></head><body><nav id="multi-page-nav"><a class="brand" href="https://juliaastro.org"><img alt="home" src="http://juliaastro.org/dev/assets/logo.svg"/></a><div class="hidden-on-mobile" id="nav-items"><a class="nav-link active nav-item" href="../../../">EphemerisSources.jl</a><a class="nav-link nav-item" href="../../../../pre-print/">Paper</a><div class="nav-dropdown"><button class="nav-item dropdown-label">Interfaces</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../EphemerisSourcesBase/">EphemerisSourcesBase</a></ul></div><div class="nav-dropdown"><button class="nav-item dropdown-label">SPICE</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../SPICEKernels/">SPICEKernels</a><a class="nav-link nav-item" href="../../../SPICEBodies/">SPICEBodies</a></ul></div><div class="nav-dropdown"><button class="nav-item dropdown-label">Horizons</button><ul class="nav-dropdown-container"><a class="nav-link nav-item" href="../../../HorizonsAPI/">HorizonsAPI</a><a class="nav-link active nav-item" href="../../">HorizonsEphemeris</a></ul></div><div class="search nav-item"><input id="search-input" placeholder="Search..."/><ul class="suggestions hidden" id="search-result-container"></ul><div class="search-keybinding">/</div></div></div><button id="multidoc-toggler"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg></button></nav><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HorizonsEphemeris</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li class="is-active"><a class="tocitem" href="">Examples</a></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" href="#" id="documenter-sidebar-button"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="">Examples</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="">Examples</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaAstro/EphemerisSources.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaAstro/EphemerisSources.jl/blob/main/lib/HorizonsEphemeris/docs/src/examples/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" href="#" id="documenter-settings-button" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" href="javascript:;" id="documenter-article-toggle-button" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h1><p><code>HorizonsEphemeris.jl</code> provides an idiomatic Julia interface to the JPL Horizons REST API. Rather than recall specific queries REST API queries, or describe your desired ephemeris data in the verbose REST interface through <code>HorizonsAPI.jl</code>, you can use the <a href="../reference/#HorizonsEphemeris.ephemeris-NTuple{4, Any}"><code>ephemeris</code></a> method to fetch send the correct REST query (using <code>HorizonsAPI.jl</code> under the hood), and return the data parsed into a <code>NamedTuple</code> for convenient data processing.</p><p>Take a look at each of the following examples for ideas about how to use the Horizons platform idiomatically from within Julia.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>At this time, only Cartesian state vectors are supported in <code>HorizonsEphemeris.jl</code>. If you want to fetch more complicated ephemeris data, use <code>HorizonsAPI.jl</code>.</p></div></div><h3 id="Object-Identification"><a class="docs-heading-anchor" href="#Object-Identification">Object Identification</a><a id="Object-Identification-1"></a><a class="docs-heading-anchor-permalink" href="#Object-Identification" title="Permalink"></a></h3><p>The SPICE Toolkit (with <code>SPICE.jl</code>) is used under the hood to identify celestial bodies by their name, or by their NAIF ID code. You can use the <a href="../reference/#HorizonsEphemeris.NAIF-Tuple{Integer}"><code>NAIF</code></a> method to query an object's code, or the code's corresponding object name.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using HorizonsEphemeris</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using DataFrames</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; names = ["solar system barycenter", "sun", "mercury", "venus", "earth", "mars", "jupiter", "saturn", "uranus", "neptune", "pluto"];</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; codes = NAIF.(names);</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; DataFrame(Name = names, Code = codes)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">11×2 DataFrame
 Row │ Name                     Code
     │<span class="sgr90"> String                   Int64
─────┼────────────────────────────────
   1 │ solar system barycenter      0
   2 │ sun                         10
   3 │ mercury                    199
   4 │ venus                      299
   5 │ earth                      399
   6 │ mars                       499
   7 │ jupiter                    599
   8 │ saturn                     699
   9 │ uranus                     799
  10 │ neptune                    899
  11 │ pluto                      999</span></span></code></pre><h3 id="Cartesian-States"><a class="docs-heading-anchor" href="#Cartesian-States">Cartesian States</a><a id="Cartesian-States-1"></a><a class="docs-heading-anchor-permalink" href="#Cartesian-States" title="Permalink"></a></h3><p>You can specify a single time point, e.g. <code>now()</code>, or a list of time points, or the combination of a start time, end time, and step duration. Each time point can be a string, a Julia day or Modified Julian day (<code>AbstractFloat</code>), or an <code>AbstractDateTime</code>. For more information, see the <a href="../reference/#HorizonsEphemeris.ephemeris-NTuple{4, Any}"><code>ephemeris</code></a> reference.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using HorizonsEphemeris</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ephemeris("earth", "1999-12-31T11:59:59")</code><code class="nohighlight hljs ansi" style="display:block;">(t = [2.451543999988426e6], cal = InlineStrings.String31[" A.D. 1999-Dec-31 11:59:59.0000"], x = [-0.1670437396074802], y = [0.8875474384517587], z = [0.3850193725088548], ẋ = [-0.01725350249359643], ẏ = [-0.002627413685548899], ż = [-0.001139263696835267])</code></pre><h3 id="DataFrame-Support"><a class="docs-heading-anchor" href="#DataFrame-Support"><code>DataFrame</code> Support</a><a id="DataFrame-Support-1"></a><a class="docs-heading-anchor-permalink" href="#DataFrame-Support" title="Permalink"></a></h3><p>If you include <code>DataFrames.jl</code>, you can use the <code>DataFrame</code> constructor with the <code>NamedTuple</code> output of the <code>ephemeris</code> method.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Dates, HorizonsEphemeris</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using DataFrames</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; data = ephemeris("earth", now() - Year(1), now() + Year(1), Day(1); wrt="sun")</code><code class="nohighlight hljs ansi" style="display:block;">(t = [2.460172465646655e6, 2.460173465646655e6, 2.460174465646655e6, 2.460175465646655e6, 2.460176465646655e6, 2.460177465646655e6, 2.460178465646655e6, 2.460179465646655e6, 2.460180465646655e6, 2.460181465646655e6  …  2.460894465646655e6, 2.460895465646655e6, 2.460896465646655e6, 2.460897465646655e6, 2.460898465646655e6, 2.460899465646655e6, 2.460900465646655e6, 2.460901465646655e6, 2.460902465646655e6, 2.460903465646655e6], cal = InlineStrings.String31[" A.D. 2023-Aug-15 23:10:31.8710", " A.D. 2023-Aug-16 23:10:31.8710", " A.D. 2023-Aug-17 23:10:31.8710", " A.D. 2023-Aug-18 23:10:31.8710", " A.D. 2023-Aug-19 23:10:31.8710", " A.D. 2023-Aug-20 23:10:31.8710", " A.D. 2023-Aug-21 23:10:31.8710", " A.D. 2023-Aug-22 23:10:31.8710", " A.D. 2023-Aug-23 23:10:31.8710", " A.D. 2023-Aug-24 23:10:31.8710"  …  " A.D. 2025-Aug-06 23:10:31.8710", " A.D. 2025-Aug-07 23:10:31.8710", " A.D. 2025-Aug-08 23:10:31.8710", " A.D. 2025-Aug-09 23:10:31.8710", " A.D. 2025-Aug-10 23:10:31.8710", " A.D. 2025-Aug-11 23:10:31.8710", " A.D. 2025-Aug-12 23:10:31.8710", " A.D. 2025-Aug-13 23:10:31.8710", " A.D. 2025-Aug-14 23:10:31.8710", " A.D. 2025-Aug-15 23:10:31.8710"], x = [1.202793359611116e8, 1.217860069833857e8, 1.232577824619191e8, 1.246942036370033e8, 1.26094828872547e8, 1.274592343649857e8, 1.287870147860993e8, 1.300777839038055e8, 1.313311751896394e8, 1.325468423330632e8  …  1.061067149708851e8, 1.0788842156055e8, 1.096396206657734e8, 1.113598507232566e8, 1.130486516572941e8, 1.147055610164131e8, 1.163301106053599e8, 1.179218242785535e8, 1.194802173242078e8, 1.210047975193401e8], y = [-9.214208665855005e7, -9.009485502009395e7, -8.80218371434649e7, -8.592365077013904e7, -8.38009244834609e7, -8.165429634385699e7, -7.948441246025297e7, -7.72919254407872e7, -7.507749260408607e7, -7.284177378113364e7  …  -1.084309932131445e8, -1.0662572959666e8, -1.047904155186116e8, -1.029255299718795e8, -1.0103154773074e8, -9.910894078268544e7, -9.715818127140829e7, -9.517974566169418e7, -9.31741195386291e7, -9.114180235495226e7], z = [3768.828848727047, 3691.179095838219, 3628.579094547778, 3578.565835081041, 3538.077651012689, 3503.531420476735, 3470.908271756023, 3435.850568365306, 3393.779320184141, 3340.048799816519  …  6255.361176259816, 6081.327638611197, 5888.662308901548, 5680.852187737823, 5462.421127401292, 5238.71760854125, 5015.575170964003, 4798.883662387729, 4594.131989002228, 4405.985600162297], ẋ = [17.63844620803008, 17.23728123353594, 16.83071047431476, 16.41892763267355, 16.00213517481116, 15.58054329589911, 15.1543694347009, 14.72383818382549, 14.28918090210918, 13.85063365733918  …  20.79635822445722, 20.44595013001693, 20.09017655653821, 19.72907693634128, 19.3626458720799, 18.99083472447138, 18.61356146451585, 18.23072722657375, 17.84223586895297, 17.44801248745593], ẏ = [23.54323587893413, 23.84521694992699, 24.14011608811024, 24.42780011584341, 24.70815134563763, 24.98106820124509, 25.24646617138663, 25.50427977355595, 25.75446623886447, 25.99701132012042  …  20.71849104090448, 21.06908625182222, 21.41411193191201, 21.75361941113805, 22.08765220308193, 22.41622831077456, 22.73932369694675, 23.05686113091506, 23.36870684897148, 23.6746748684595], ż = [-0.0009934267315028222, -0.0008074979863526011, -0.0006463404077710067, -0.0005172948593266113, -0.0004268599788694871, -0.0003805922011235197, -0.0003830013941747978, -0.0004373816140290643, -0.0005454922683600927, -0.0007070030781779479  …  -0.001896232391133346, -0.00212775629391615, -0.002325348142663941, -0.002476303713592642, -0.002569586935806001, -0.002597397807571511, -0.002556484771828238, -0.002448851339389435, -0.002281704820955355, -0.00206673474706065])</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; DataFrame(data)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">732×8 DataFrame
 Row │ t          cal                              x          y           z    ⋯
     │<span class="sgr90"> Float64    String31                         Float64    Float64     Floa ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ 2.46017e6   A.D. 2023-Aug-15 23:10:31.8710  1.20279e8  -9.21421e7  3768 ⋯
   2 │ 2.46017e6   A.D. 2023-Aug-16 23:10:31.8710  1.21786e8  -9.00949e7  3691
   3 │ 2.46017e6   A.D. 2023-Aug-17 23:10:31.8710  1.23258e8  -8.80218e7  3628
   4 │ 2.46018e6   A.D. 2023-Aug-18 23:10:31.8710  1.24694e8  -8.59237e7  3578
   5 │ 2.46018e6   A.D. 2023-Aug-19 23:10:31.8710  1.26095e8  -8.38009e7  3538 ⋯
   6 │ 2.46018e6   A.D. 2023-Aug-20 23:10:31.8710  1.27459e8  -8.16543e7  3503
   7 │ 2.46018e6   A.D. 2023-Aug-21 23:10:31.8710  1.28787e8  -7.94844e7  3470
   8 │ 2.46018e6   A.D. 2023-Aug-22 23:10:31.8710  1.30078e8  -7.72919e7  3435
  ⋮  │     ⋮                     ⋮                     ⋮          ⋮          ⋮ ⋱
 726 │ 2.4609e6    A.D. 2025-Aug-09 23:10:31.8710  1.1136e8   -1.02926e8  5680 ⋯
 727 │ 2.4609e6    A.D. 2025-Aug-10 23:10:31.8710  1.13049e8  -1.01032e8  5462
 728 │ 2.4609e6    A.D. 2025-Aug-11 23:10:31.8710  1.14706e8  -9.91089e7  5238
 729 │ 2.4609e6    A.D. 2025-Aug-12 23:10:31.8710  1.1633e8   -9.71582e7  5015
 730 │ 2.4609e6    A.D. 2025-Aug-13 23:10:31.8710  1.17922e8  -9.51797e7  4798 ⋯
 731 │ 2.4609e6    A.D. 2025-Aug-14 23:10:31.8710  1.1948e8   -9.31741e7  4594
 732 │ 2.4609e6    A.D. 2025-Aug-15 23:10:31.8710  1.21005e8  -9.11418e7  4405
</span><span class="sgr36">                                                  4 columns and 717 rows omitted</span></span></code></pre><h3 id="CSV-Support"><a class="docs-heading-anchor" href="#CSV-Support">CSV Support</a><a id="CSV-Support-1"></a><a class="docs-heading-anchor-permalink" href="#CSV-Support" title="Permalink"></a></h3><p>You can save the ephemeris content to a CSV file using the <code>file</code> keyword argument.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using HorizonsEphemeris</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; ephemeris("moon", 0.0; wrt="earth", mjd=true, file="moon.csv")</code><code class="nohighlight hljs ansi" style="display:block;">[ Info: Ephemeris data for object with NAIF ID 301 has been written to moon.csv.
(t = [2.4000005e6], cal = InlineStrings.String31[" A.D. 1858-Nov-17 00:00:00.0000"], x = [0.002556334699436511], y = [6.867284869775472e-5], z = [0.0001352955722818409], ẋ = [-6.905182516461547e-5], ẏ = [0.0005198755620635187], ż = [0.0002749449851752871])</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Overview</a><a class="docs-footer-nextpage" href="../reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label></p><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div><p></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Thursday 15 August 2024 23:10">Thursday 15 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></HTML>